Version 4
SHEET 1 1904 680
WIRE 416 -176 320 -176
WIRE 624 -176 416 -176
WIRE 320 -128 320 -176
WIRE 416 -112 416 -176
WIRE 320 -16 320 -64
WIRE 416 -16 416 -32
WIRE 416 -16 320 -16
WIRE 624 16 624 -176
WIRE 320 32 320 -16
WIRE 176 112 -96 112
WIRE 272 112 256 112
WIRE -96 160 -96 112
WIRE -96 272 -96 240
WIRE 320 272 320 128
WIRE 320 272 -96 272
WIRE 624 272 624 96
WIRE 624 272 320 272
WIRE 320 304 320 272
FLAG 320 304 0
SYMBOL voltage -96 144 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V1
SYMATTR Value PULSE(0 12 1m 1p 1p 400u 1.2m 2)
SYMBOL nmos 272 32 R0
SYMATTR InstName M1
SYMATTR Value NTMFS5C646NL
SYMBOL voltage 624 0 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V2
SYMATTR Value 30
SYMBOL ind 400 -128 R0
SYMATTR InstName L1
SYMATTR Value 2mH
SYMBOL res 272 96 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R1
SYMATTR Value 20
SYMBOL diode 336 -64 R180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D1
SYMATTR Value 1N4148
TEXT -18 328 Left 2 !.tran 0 3m 0 1n startup
TEXT 712 -128 Left 2 !.model currentLimit D(Ron=1m Vfwd=1m Roff=1meg vrev=1k epsilon=0.1 revepsilon=1 ilimit=5)
