Version 4
SHEET 1 2376 764
WIRE 2096 -528 2048 -528
WIRE 2208 -528 2176 -528
WIRE 576 -496 528 -496
WIRE 688 -496 640 -496
WIRE 1328 -464 1264 -464
WIRE 1456 -464 1408 -464
WIRE 1152 -384 1136 -384
WIRE 1264 -384 1264 -464
WIRE 1264 -384 1232 -384
WIRE 592 -368 592 -384
WIRE 1360 -368 1360 -384
WIRE 400 -352 256 -352
WIRE 528 -352 528 -496
WIRE 528 -352 480 -352
WIRE 560 -352 528 -352
WIRE 1264 -352 1264 -384
WIRE 1328 -352 1264 -352
WIRE 2112 -352 2112 -368
WIRE 256 -336 256 -352
WIRE 688 -336 688 -496
WIRE 688 -336 624 -336
WIRE 720 -336 688 -336
WIRE 1456 -336 1456 -464
WIRE 1456 -336 1392 -336
WIRE 1488 -336 1456 -336
WIRE 1920 -336 1840 -336
WIRE 2048 -336 2048 -528
WIRE 2048 -336 1984 -336
WIRE 2080 -336 2048 -336
WIRE 560 -320 528 -320
WIRE 1328 -320 1296 -320
WIRE 2208 -320 2208 -528
WIRE 2208 -320 2144 -320
WIRE 2320 -320 2208 -320
WIRE 1152 -304 1136 -304
WIRE 1264 -304 1264 -352
WIRE 1264 -304 1232 -304
WIRE 2080 -304 2048 -304
WIRE 528 -288 528 -320
WIRE 592 -288 592 -304
WIRE 1296 -288 1296 -320
WIRE 1360 -288 1360 -304
WIRE 2048 -272 2048 -304
WIRE 2112 -272 2112 -288
WIRE 256 -240 256 -256
WIRE 1152 -224 1136 -224
WIRE 1264 -224 1264 -304
WIRE 1264 -224 1232 -224
WIRE 32 -192 16 -192
WIRE 16 -176 16 -192
WIRE 576 -144 528 -144
WIRE 688 -144 640 -144
WIRE -192 -96 -192 -112
WIRE 16 -80 16 -96
WIRE 592 -16 592 -32
WIRE -192 0 -192 -16
WIRE -192 0 -224 0
WIRE 400 0 256 0
WIRE 528 0 528 -144
WIRE 528 0 480 0
WIRE 560 0 528 0
WIRE -192 16 -192 0
WIRE 256 16 256 0
WIRE 688 16 688 -144
WIRE 688 16 624 16
WIRE 720 16 688 16
WIRE 560 32 528 32
WIRE 528 64 528 32
WIRE 592 64 592 48
WIRE -192 112 -192 96
WIRE 256 112 256 96
WIRE 1024 176 976 176
WIRE 1136 176 1104 176
WIRE 560 208 512 208
WIRE 672 208 624 208
WIRE 576 336 576 320
WIRE 384 352 240 352
WIRE 512 352 512 208
WIRE 512 352 464 352
WIRE 544 352 512 352
WIRE 1040 352 1040 336
WIRE 240 368 240 352
WIRE 672 368 672 208
WIRE 672 368 608 368
WIRE 848 368 672 368
WIRE 976 368 976 176
WIRE 976 368 928 368
WIRE 1008 368 976 368
WIRE 544 384 512 384
WIRE 1136 384 1136 176
WIRE 1136 384 1072 384
WIRE 1200 384 1136 384
WIRE 1008 400 976 400
WIRE 512 416 512 384
WIRE 576 416 576 400
WIRE 976 432 976 400
WIRE 1040 432 1040 416
WIRE 240 464 240 448
FLAG -224 0 0
FLAG -192 -112 +V
FLAG -192 112 -V
FLAG 592 -32 +V
FLAG 592 64 -V
FLAG 528 64 0
FLAG 256 112 0
FLAG 576 416 -V
FLAG 512 416 0
FLAG 240 464 0
FLAG 592 -384 +V
FLAG 592 -288 -V
FLAG 528 -288 0
FLAG 256 -240 0
FLAG 1040 336 +V
FLAG 1040 432 -V
FLAG 976 432 0
FLAG 1200 384 V_Correction
FLAG 1136 -384 V_B
FLAG 1136 -304 V_A
FLAG 1136 -224 V_Correction
FLAG 1360 -384 +V
FLAG 1360 -288 -V
FLAG 1296 -288 0
FLAG 1488 -336 V_logsum
FLAG 2112 -368 +V
FLAG 2112 -272 -V
FLAG 2048 -272 0
FLAG 1840 -336 V_logsum
FLAG 576 320 +V
FLAG 720 16 V_A
FLAG 720 -336 V_B
FLAG 256 -352 A
FLAG 256 0 B
FLAG 2320 -320 out
FLAG 16 -80 0
FLAG 32 -192 V_R
SYMBOL voltage -192 -112 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V1
SYMATTR Value 30
SYMBOL voltage -192 0 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V2
SYMATTR Value 30
SYMBOL voltage 256 0 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V3
SYMATTR Value 5
SYMBOL voltage 240 352 R0
WINDOW 0 32 56 VTop 2
WINDOW 3 -32 56 VBottom 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V6
SYMATTR Value 1
SYMBOL res 496 -368 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R3
SYMATTR Value R=V(V_R)
SYMBOL voltage 256 -352 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V5
SYMATTR Value 3
SYMBOL res 944 352 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R4
SYMATTR Value 1k
SYMBOL res 1120 160 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R5
SYMATTR Value 1k
SYMBOL res 1248 -400 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R6
SYMATTR Value 1k
SYMBOL res 1248 -320 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R7
SYMATTR Value 1k
SYMBOL res 1248 -240 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R8
SYMATTR Value 1k
SYMBOL res 1424 -480 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R9
SYMATTR Value 1k
SYMBOL diode 576 -480 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName D1
SYMATTR Value 1N914
SYMBOL diode 576 -128 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName D2
SYMATTR Value 1N914
SYMBOL diode 560 224 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName D3
SYMATTR Value 1N914
SYMBOL diode 1920 -320 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName D4
SYMATTR Value 1N914
SYMBOL OpAmps\\opamp2 592 -400 R0
SYMATTR InstName U1
SYMATTR Value TL072
SYMBOL OpAmps\\opamp2 592 -48 R0
SYMATTR InstName U2
SYMATTR Value TL072
SYMBOL OpAmps\\opamp2 576 304 R0
SYMATTR InstName U3
SYMATTR Value TL072
SYMBOL OpAmps\\opamp2 1040 320 R0
SYMATTR InstName U4
SYMATTR Value TL072
SYMBOL OpAmps\\opamp2 1360 -400 R0
SYMATTR InstName U5
SYMATTR Value TL072
SYMBOL OpAmps\\opamp2 2112 -384 R0
SYMATTR InstName U6
SYMATTR Value TL072
SYMBOL voltage 16 -192 R0
SYMATTR InstName VR
SYMBOL res 496 -16 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R1
SYMATTR Value R=V(V_R)
SYMBOL res 480 336 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R2
SYMATTR Value R=V(V_R)
SYMBOL res 2192 -544 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R10
SYMATTR Value R=V(V_R)
TEXT -240 -240 Left 2 !.dc dec VR 300k 400k 100 V5 0 5 0.5
TEXT -248 -272 Left 2 !.lib TL072.lib
