Version 4
SHEET 1 1472 680
WIRE 416 -16 288 -16
WIRE 608 -16 480 -16
WIRE 608 80 608 -16
WIRE 288 96 288 -16
WIRE 224 144 80 144
WIRE -224 176 -224 160
WIRE 80 176 80 144
WIRE 224 176 224 144
WIRE 240 176 224 176
WIRE -224 272 -224 256
WIRE 80 272 80 256
WIRE 288 272 288 192
WIRE 288 272 80 272
WIRE 608 272 608 160
WIRE 608 272 288 272
WIRE 288 368 288 272
FLAG 288 368 0
FLAG -224 272 0
FLAG 80 144 vgate
FLAG -224 160 cgate
SYMBOL nmos 240 96 R0
SYMATTR InstName M1
SYMATTR Value NTMFS5C646NL
SYMBOL voltage 80 160 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V2
SYMATTR Value PULSE(0 10 0.001 1 1p 1 1 1)
SYMBOL bv -224 160 R0
SYMATTR InstName B1
SYMATTR Value V=idt(-I(V2))
SYMBOL voltage 608 64 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V1
SYMATTR Value 30
SYMBOL diode 480 -32 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName D1
SYMATTR Value currentLimiter
TEXT 48 392 Left 2 !.tran 0 1.1 0 startup
TEXT 720 96 Left 2 !.model currentLimiter D(Ron=1u Vfwd=0 Roff=1g ilimit=curlim)
TEXT 680 168 Left 2 !.step param curlim list 10 20 30
